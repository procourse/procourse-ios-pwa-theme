<script type="text/discourse-plugin" version="0.8">
api.createWidget('mobile-pwa-navigation-bar', {
    tagName: 'div.mobile-pwa-navigation',
  
    html(attrs) {
      return api.h('ul', [
        api.h('li', api.h('a', { attributes: { href: settings.mobile_pwa_icon_1_url } }, api.h('i.fa.' + settings.mobile_pwa_icon_1))),
        api.h('li', api.h('a', { attributes: { href: settings.mobile_pwa_icon_2_url } }, api.h('i.fa.' + settings.mobile_pwa_icon_2))),
        api.h('li', api.h('a', { attributes: { href: settings.mobile_pwa_icon_3_url } }, api.h('i.fa.' + settings.mobile_pwa_icon_3))),
        api.h('li', api.h('a', { attributes: { href: settings.mobile_pwa_icon_4_url } }, api.h('i.fa.' + settings.mobile_pwa_icon_4)))
      ]);
    }
});

api.createWidget('mobile-pwa-back-button', {
    tagName: 'div.mobile-pwa-back-button',
  
    html(attrs) {
        return api.h('i.fa.fa-chevron-left');
    },
    
    click() {
        window.history.back();
    }
});

api.decorateWidget('home-logo:before', helper => {
    return helper.attach('mobile-pwa-back-button');
});
api.onPageChange((url, title) => {
      if (url == "/"){
        $('body').removeClass('show-pwa-back-button');
      }
      else{
        $('body').addClass('show-pwa-back-button');
      }
    });

</script>
<script type='text/x-handlebars' data-template-name='/connectors/below-footer/mobile-pwa-navigation'>
{{mount-widget widget="mobile-pwa-navigation-bar" args=model}}
</script>